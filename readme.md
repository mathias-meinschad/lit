Avoid full copies on commit:

Detached Head
todo: explain detached head